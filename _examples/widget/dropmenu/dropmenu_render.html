<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
    <meta charset="utf-8">
    <title>dropmenu的render模式</title>
    <style>
        .section {
            padding: 0 3px;
            -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
        }

        .section h2 {
            font-size: 16px;
            font-weight: bold;
            padding: 5px 5px;
            color: #5b5b5b;
        }

        .section {
            height: 400px;
        }
    </style>
</head>
<body>
<div class="section">
    <div id="container">
    </div>
</div>
<script id="bootstrap" src="../../example.js"
        type="text/javascript"
        data-theme="default"
        data-use="widget/dropmenu.js"
        data-page="下拉菜单|dropmenu.html,dropmenu的render模式|dropmenu_render.html,dropmenu位置自动计算|dropmenu_smart.html,dropmenu内滚|dropmenu_iscroll.html">
    //<![CDATA[
    /**
     * JS:
     *   Zepto:
     *     zepto.js
     *   GMU:
     *     core/zepto.extend.js
     *     core/zepto.ui.js
     *     webapp/dropmenu.js
     *
     * CSS:
     * webapp/dropmenu/dropmenu.css
     *
     * 如果需要主题还需要
     * icons.default.css
     * webapp/dropmenu/dropmenu.default.css
     *
     */
    //Render模式
    var btn = $.ui.button({container:'#container', label:'Dropmenu居中'});
    var dropmenu = $.ui.dropmenu({
        btn: btn.root(),
        align:'center',
        width:btn.root().width(),
        items:[
            {
                text:'item1',
                href:'http://www.baidu.com',
                click:function (e) {
                    e.preventDefault();
                    alert('prevented');
                }
            },
            {
                text:'主页',
                icon:'home'
            },
            {
                text:'删除',
                icon:'delete',
                click:function () {
                    confirm('删除?');
                    //阻止itemClick事件触发
                    return false;
                }
            },
            {
                text:'设置',
                icon:'gear'
            }
        ]
    });
    dropmenu.on('itemClick', function (e, item) {
        alert(item.text);
        e.preventDefault();
    });


    var btn2 = $.ui.button({container:'#container', label:'Dropmenu居右'});
    var dropmenu2 = $.ui.dropmenu({
        align:'right',
        items:[
            {
                text:'item1',
                href:'http://www.baidu.com'
            },
            {
                text:'主页',
                icon:'home'
            },
            {
                text:'删除',
                icon:'delete',
                click:function () {
                    confirm('删除?');
                    //阻止itemClick事件触发
                    return false;
                }
            },
            {
                text:'设置',
                icon:'gear'
            }
        ]
    });//.bindButton(btn2.root());
    dropmenu2.on('itemClick', function (e, item) {
        alert(item.text);
    });
    btn2.on('click', function () {
        dropmenu2.toggle(this.root());
    });


    var btn3 = $.ui.button({container:'#container', label:'Dropmenu居左'});
    var dropmenu3 = $.ui.dropmenu({
        align:'left',
        items:[
            {
                text:'item1',
                href:'http://www.baidu.com'
            },
            {
                text:'主页',
                icon:'home'
            },
            {
                text:'删除',
                icon:'delete',
                click:function () {
                    confirm('删除?');
                    return false;
                }
            },
            {
                text:'设置',
                icon:'gear'
            }
        ]
    }).bindButton(btn3.root());
    dropmenu3.on('itemClick', function (e, item) {
        alert(item.text);
    });


    var btn4 = $.ui.button({container:'#container', label:'水平dropmenu'});
    var dropmenu4 = $.ui.dropmenu({
        container:'#container',
        align:'left',
        btn: btn4.root(),
        direction:'horizontal',
        items:[
            {
                icon:'home'
            },
            {
                icon:'gear'
            },
            {
                icon:'delete',
                click:function () {
                    confirm("delete?");
                    return false;
                }
            },
            {
                icon:'grid'
            }
        ]
    });
    dropmenu4.on('itemClick', function (e, item) {
        alert(item.icon);
    });

    $('body>.section').on('click', function(){//make blank area clickabel
    });
    //]]>
</script>
</body>
</html>
