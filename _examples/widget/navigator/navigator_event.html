<!DOCTYPE HTML>
<html>
<head>
    <title>导航栏组件demo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <style>
        .show-result{
            border: 1px solid #cccccc;
            width: 200px;
            margin: 20px auto;
            background: #F6F9FE;
            height: 100px;
        }
        .show-result h3{
            text-align: center;
            height: 28px;
            line-height: 28px;
        }
        #result{
            text-align: center;
        }
    </style>
</head>

<body>
<h3>tabselect事件(setup方式)</h3>
<div id="select">
    <ul>
        <li><a href="#test1" data-type='core'>要闻</a></li>
        <li><a href="javascript:;" data-type='in'>国内</a></li>
        <li><a class="cur" href="#test2" data-type='out'>国际</a></li>
        <li><a href="#test3" data-type='news'>军事</a></li>
        <li><a href="#test4" data-type='social'>社会</a></li>
        <li><a href="#test5" data-type='fun'>娱乐</a></li>
        <li><a href="#test6" data-type='women'>女人</a></li>
        <li><a href="http://www.baidu.com" data-type='ge'>体育</a></li>
        <li><a href="#test7" data-type='tec'>科技</a></li>
        <li><a href="#test8" data-type='intenet'>互联网</a></li>
        <li><a href="#test9" data-type='news'>教育</a></li>
        <li><a href="#test10" data-type='news'>财经</a></li>
        <li><a href="#test11" data-type='news'>房产</a></li>
        <li><a href="#test12" data-type='news'>汽车</a></li>
    </ul>
</div>

<h3>beforetabselect事件(render方式创建)</h3>
<div id="before-select"></div>

<h3>scroll事件(setup方式)</h3>
<div id="scroll">
    <ul>
        <li><a href="#test1" data-type='core'>要闻</a></li>
        <li><a href="javascript:;" data-type='in'>国内</a></li>
        <li><a class="cur" href="#test2" data-type='out'>国际</a></li>
        <li><a href="#test3" data-type='news'>军事</a></li>
        <li><a href="#test4" data-type='social'>社会</a></li>
        <li><a href="#test5" data-type='fun'>娱乐</a></li>
        <li><a href="#test6" data-type='women'>女人</a></li>
        <li><a href="http://www.baidu.com" data-type='ge'>体育</a></li>
        <li><a href="#test7" data-type='tec'>科技</a></li>
        <li><a href="#test8" data-type='intenet'>互联网</a></li>
        <li><a href="#test9" data-type='news'>教育</a></li>
        <li><a href="#test10" data-type='news'>财经</a></li>
        <li><a href="#test11" data-type='news'>房产</a></li>
        <li><a href="#test12" data-type='news'>汽车</a></li>
    </ul>
</div>

<section class="show-result">     <!--组件无关html，显示结果用-->
    <h3>tab操作结果</h3>
    <div id="result"></div>
</section>

<script id="bootstrap" src="../../example.js"
        type="text/javascript"
        data-theme="default"
        data-use="webapp/navigator.iscroll.js"
        data-page="普通tab|tab.html,tab相关事件|tab_event.html,可滑动导航栏|navigator.html,带fix可滑动导航|navigator_fix.html,可滑动导航事件|navigator_event.html">
    //<![CDATA[
    /**
     * JS:
     *   Zepto:
     *     zepto.js
     *   GMU:
     *     core/zepto.extend.js
     *     core/zepto.ui.js
     *     core/zepto.iscroll.js
     *     webapp/navigator.js
     *
     * CSS:
     * webapp/navigator/navigator.css,
     * webapp/navigator/navigator.iscroll.css
     *
     * 如果需要主题还需要
     * webapp/navigator/navigator.default.css
     * webapp/navigator/navigator.iscroll.default.css
     *
     */
    $('#select').navigator().on('tabselect', function (e) {     //tabselect事件
        $('#result').html('第'+ e.data.index+'个tab的data-type为'+ $(e.data).attr('data-type'));
    });

    $.ui.navigator('#before-select', {    //beforetabselect事件
        content:[
            {
                text:"电影",
                url:"javascript:;",
                attr: {
                    'data-type': 'movie',
                    'data-id': '1'
                }
            },
            {
                text:"电视剧",
                url:"http://www.baidu.com",
                attr: {
                    'data-type': 'tv',
                    'data-id': '2'
                }
            },
            {
                text:"动漫",
                url:"http://www.baidu.com",
                attr: {
                    'data-type': 'comic',
                    'data-id': '3'
                }
            },
            {
                text:"综艺",
                url:"javascript:;",
                attr: {
                    'data-type': 'common',
                    'data-id': '4'
                }
            },
            {
                text:"排行榜",
                url:"http://www.baidu.com",
                attr: {
                    'data-type': 'sort',
                    'data-id': '5'
                }
            },
            {
                text:"应用推荐",
                url:"javascript:;",
                attr: {
                    'data-type': 'appliction',
                    'data-id': '6'
                }
            },
            {
                text:"体育",
                url:"http://www.baidu.com",
                attr: {
                    'data-type': 'ge',
                    'data-id': '7'
                }
            },
            {
                text:"美女",
                url:"javascript:;",
                attr: {
                    'data-type': 'girl',
                    'data-id': '8'
                }
            },
            {
                text:"资讯",
                url:"javascript:;",
                attr: {
                    'data-type': 'news',
                    'data-id': '9'
                }
            },
            {
                text:"相声",
                url:"javascript:;",
                attr: {
                    'data-type': 'xiangs',
                    'data-id': '10'
                }
            },
            {
                text:"搞笑",
                url:"javascript:;",
                attr: {
                    'data-type': 'fun',
                    'data-id': '11'
                }
            },
            {
                text:"音乐",
                url:"http://www.baidu.com",
                attr: {
                    'data-type': 'music',
                    'data-id': '12'
                }
            }
        ]
    }).on('beforetabselect', function (e) {
        if (/http:\/\/[A-Za-z0-9\.-]{3,}\.[A-Za-z]{3}/.test(e.data.href)) {
            e.preventDefault();
            $('#result').html('链接类型tab选中操作被阻止<br />data-type:'+ $(e.data).attr('data-type')+'<br />data-id:'+$(e.data).attr('data-id'));
        }else {
            $('#result').html('data-type:'+ $(e.data).attr('data-type')+'<br />data-id:'+$(e.data).attr('data-id'));
        }
    });

    $('#scroll').navigator().on('scrollstart', function (e) {     //iScroll相应派生的事件
        $('#result').html('scrollstart');
        count=0;
    }).on('scrollmove', function (e) {     //iScroll相应派生的事件
        $('#result').html('scrollmove'+(count++));
    }).on('scrollend', function (e) {     //iScroll相应派生的事件
        $('#result').html('scrollend');
    });;
    //]]>
</script>

</body>
</html>